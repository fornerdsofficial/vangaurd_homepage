<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="../../global.css" />
    <link rel="stylesheet" href="./company-overview.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Garet:wght@400&display=swap"
    />
    <!-- 한글 폰트는 로컬에서 로드 -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap"
    />
    <!-- Web Components 스크립트 추가 -->
    <script src="../../components/header/header.js"></script>
    <script src="../../components/footer/footer.js"></script>
    <link rel="stylesheet" href="../../styles/mobile.css" />
  </head>
  <body>
    <div class="company-overview">
      <div class="company-overview-child"></div>
      
      <!-- 웹 컴포넌트를 이용한 footer 적용 -->
      <footer-component></footer-component>
      
      <!-- 웹 컴포넌트를 이용한 header 적용 -->
      <header-component></header-component>
      
      <div class="frame-container">
        <div class="overview-top-section">
          <div class="title2">
            <div class="mendix3">Overview</div>
          </div>
          
          <div class="right-content">
            <div class="description-group">
              <div class="description2">
                <div class="description3">
                  <div class="mendix4">
                    신뢰받는 최고의 전문가 뱅가드랩은 2017년 창업부터 지금까지
                    은행/카드 등의 보고서 시스템 및 연결결산 시스템 구축을
                    주로하는 IT 전문 기업입니다. 고객의 성공이 곧 뱅가드랩의
                    성공이라는 신념으로 함께 하겠습니다.
                  </div>
                </div>
              </div>
            </div>
            
            <div class="company-info-container">
              <div class="company-info-table">
                <table class="info-table">
                  <tr class="info-row">
                    <td class="info-label">회사명</td>
                    <td class="info-value">㈜뱅가드랩</td>
                  </tr>
                  <tr class="info-row">
                    <td class="info-label">대표자</td>
                    <td class="info-value">김종영</td>
                  </tr>
                  <tr class="info-row">
                    <td class="info-label">주소</td>
                    <td class="info-value">서울시 구로구 디지털로32길 30, 1201호(코오롱디지털타워빌란트1차)</td>
                  </tr>
                  <tr class="info-row">
                    <td class="info-label">전화번호</td>
                    <td class="info-value">TEL : 02-2103-5567 / FAX : 02-2103-5567</td>
                  </tr>
                  <tr class="info-row">
                    <td class="info-label">회사설립년도</td>
                    <td class="info-value">2017년 10월</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
            <div class="frame-div">
              <div class="frame-parent1">
                <div class="wrapper">
                  <div class="div25">
                    <p class="p5">공신력 있는 수상과 인증,</p>
                    <p class="p5">뱅가드랩의 기록</p>
                  </div>
                </div>
                <div class="instance-container">
                  <div class="category-button active" data-category="all">
                    <div class="general1">All</div>
                  </div>
                  <div class="category-button" data-category="general">
                    <div class="general1">General</div>
                  </div>
                  <div class="category-button" data-category="copyrights">
                    <div class="general1">Copyrights</div>
                  </div>
                  <div class="category-button" data-category="license">
                    <div class="general1">License</div>
                  </div>
                  <div class="category-button" data-category="partner">
                    <div class="general1">Partner</div>
                  </div>
                </div>
              </div>
              <div class="img-overview-laboratory-2-parent">
                <div class="image-item general-item" data-category="general">
                  <img
                    class="certificate-image"
                    alt="일반 인증서"
                    src="../../public/img-overview-laboratory2@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item general-item" data-category="general">
                  <img
                    class="certificate-image"
                    alt="일반 인증서"
                    src="../../public/img-overview-laboratory21@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item copyrights-item" data-category="copyrights">
                  <img
                    class="certificate-image"
                    alt="저작권 인증서"
                    src="../../public/img-copyright-grs-report@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item copyrights-item" data-category="copyrights">
                  <img
                    class="certificate-image"
                    alt="저작권 인증서"
                    src="../../public/img-copyright-grs-model@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item copyrights-item" data-category="copyrights">
                  <img
                    class="certificate-image"
                    alt="저작권 인증서"
                    src="../../public/img-copyright-grs-extract@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item copyrights-item" data-category="copyrights">
                  <img
                    class="certificate-image"
                    alt="저작권 인증서"
                    src="../../public/img-copyright-vmark@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item license-item" data-category="license">
                  <img
                    class="certificate-image"
                    alt="라이센스 인증서"
                    src="../../public/img-license-101966921@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item license-item" data-category="license">
                  <img
                    class="certificate-image"
                    alt="라이센스 인증서"
                    src="../../public/img-license-101873295@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>

                <div class="image-item partner-item" data-category="partner">
                  <img
                    class="certificate-image"
                    alt="파트너 인증서"
                    src="../../public/img-overview-microsoft@2x.png"
                  />
                  <div class="image-overlay">
                    <div class="overlay-content">확대하기</div>
                  </div>
                </div>
              </div>
            </div>
      </div>
    </div>
    
    <!-- 이미지 모달 -->
    <div class="image-modal">
      <span class="close-modal">&times;</span>
      <div class="modal-image-container">
        <img class="modal-content" id="modal-image">
      </div>
      <div class="modal-controls">
        <button class="zoom-button" id="zoom-in">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg>
        </button>
        <button class="zoom-button" id="zoom-out">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
          </svg>
        </button>
        <button class="zoom-button" id="zoom-reset">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
          </svg>
        </button>
        <span class="zoom-info">드래그하여 이동할 수 있습니다</span>
      </div>
    </div>
    
    <!-- 폰트 로드 완료 체크 스크립트 -->
    <script>
      // 폰트 로드 확인
      document.documentElement.classList.add('fonts-loading');
      
      // 폰트 로드 완료 시 클래스 제거
      document.fonts.ready.then(() => {
        document.documentElement.classList.remove('fonts-loading');
      });
      
      // 카테고리 필터링 기능
      document.addEventListener('DOMContentLoaded', function() {
        const categoryButtons = document.querySelectorAll('.category-button');
        const imageItems = document.querySelectorAll('.image-item');
        const modal = document.querySelector('.image-modal');
        const modalImg = document.getElementById('modal-image');
        const closeModal = document.querySelector('.close-modal');
        const zoomIn = document.getElementById('zoom-in');
        const zoomOut = document.getElementById('zoom-out');
        const zoomReset = document.getElementById('zoom-reset');
        const zoomInfo = document.querySelector('.zoom-info');
        
        // 모달 이미지 확대/축소/드래그 관련 변수
        let currentScale = 1;
        let posX = 0;
        let posY = 0;
        let startX = 0;
        let startY = 0;
        let isDragging = false;
        
        // 카테고리 버튼 클릭 이벤트
        categoryButtons.forEach(button => {
          button.addEventListener('click', function() {
            // 모든 버튼에서 active 클래스 제거
            categoryButtons.forEach(btn => btn.classList.remove('active'));
            // 클릭한 버튼에 active 클래스 추가
            this.classList.add('active');
            
            const category = this.getAttribute('data-category');
            
            // 이미지 필터링
            imageItems.forEach(item => {
              if (category === 'all' || item.getAttribute('data-category') === category) {
                item.style.display = 'block';
              } else {
                item.style.display = 'none';
              }
            });
          });
        });
        
        // 이미지 클릭 시 모달 표시
        imageItems.forEach(item => {
          item.addEventListener('click', function() {
            const img = this.querySelector('.certificate-image');
            modal.style.display = 'block';
            modalImg.src = img.src;
            
            // 이미지 확대/축소/위치 초기화
            resetImageTransform();
          });
        });
        
        // 모달 닫기
        closeModal.addEventListener('click', function() {
          modal.style.display = 'none';
        });
        
        // 모달 바깥 클릭 시 닫기
        window.addEventListener('click', function(event) {
          if (event.target === modal) {
            modal.style.display = 'none';
          }
        });
        
        // 확대 버튼
        zoomIn.addEventListener('click', function() {
          if (currentScale < 3) { // 최대 3배 확대 제한
            currentScale += 0.2;
            updateImageTransform();
            updateZoomInfo();
          }
        });
        
        // 축소 버튼
        zoomOut.addEventListener('click', function() {
          if (currentScale > 0.5) { // 최소 0.5배 축소 제한
            currentScale -= 0.2;
            updateImageTransform();
            updateZoomInfo();
          }
        });
        
        // 원본 크기로 복원
        zoomReset.addEventListener('click', function() {
          resetImageTransform();
          updateZoomInfo();
        });
        
        // 이미지 드래그 시작
        modalImg.addEventListener('mousedown', function(e) {
          e.preventDefault();
          startX = e.clientX - posX;
          startY = e.clientY - posY;
          isDragging = true;
          modalImg.style.cursor = 'grabbing';
        });
        
        // 이미지 드래그 이동
        document.addEventListener('mousemove', function(e) {
          if (!isDragging) return;
          e.preventDefault();
          posX = e.clientX - startX;
          posY = e.clientY - startY;
          updateImageTransform();
        });
        
        // 이미지 드래그 종료
        document.addEventListener('mouseup', function() {
          isDragging = false;
          modalImg.style.cursor = 'grab';
        });
        
        // 모달 밖으로 마우스가 나갔을 때도 드래그 종료
        document.addEventListener('mouseleave', function() {
          isDragging = false;
          modalImg.style.cursor = 'grab';
        });
        
        // 이미지 확대/축소/위치 업데이트 함수
        function updateImageTransform() {
          modalImg.style.transform = `translate(${posX}px, ${posY}px) scale(${currentScale})`;
        }
        
        // 이미지 변환 초기화 함수
        function resetImageTransform() {
          currentScale = 1;
          posX = 0;
          posY = 0;
          updateImageTransform();
        }
        
        // 터치 이벤트 지원 (모바일)
        modalImg.addEventListener('touchstart', function(e) {
          const touch = e.touches[0];
          startX = touch.clientX - posX;
          startY = touch.clientY - posY;
          isDragging = true;
        });
        
        document.addEventListener('touchmove', function(e) {
          if (!isDragging) return;
          e.preventDefault();
          const touch = e.touches[0];
          posX = touch.clientX - startX;
          posY = touch.clientY - startY;
          updateImageTransform();
        }, { passive: false });
        
        document.addEventListener('touchend', function() {
          isDragging = false;
        });
        
        // 이미지 휠로 확대/축소
        modalImg.addEventListener('wheel', function(e) {
          e.preventDefault();
          // 휠 아래로 = 축소, 휠 위로 = 확대
          if (e.deltaY > 0 && currentScale > 0.5) {
            currentScale -= 0.1;
          } else if (e.deltaY < 0 && currentScale < 3) {
            currentScale += 0.1;
          }
          updateImageTransform();
          updateZoomInfo();
        });
        
        // 확대/축소 비율 표시 업데이트
        function updateZoomInfo() {
          const zoomPercent = Math.round(currentScale * 100);
          zoomReset.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
              <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
            </svg>
          `;
          zoomInfo.textContent = `${zoomPercent}% | 드래그하여 이동`;
          
          // 확대/축소에 따라 버튼 상태 업데이트
          zoomIn.disabled = currentScale >= 3;
          zoomOut.disabled = currentScale <= 0.5;
          
          // 버튼 스타일 업데이트
          if (zoomIn.disabled) zoomIn.classList.add('disabled');
          else zoomIn.classList.remove('disabled');
          
          if (zoomOut.disabled) zoomOut.classList.add('disabled');
          else zoomOut.classList.remove('disabled');
        }
      });
    </script>
  </body>
</html>